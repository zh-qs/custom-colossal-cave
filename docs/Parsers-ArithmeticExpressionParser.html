<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Parsers.ArithmeticExpressionParser</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption empty">&nbsp;</span><ul class="links" id="page-menu"><li><a href="src/Parsers.ArithmeticExpressionParser.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr></table><p class="caption">Parsers.ArithmeticExpressionParser</p></div><div id="table-of-contents"><div id="contents-list"><p class="caption" onclick="window.scrollTo(0,0)">Contents</p><ul><li><a href="#g:1">Grammar</a></li><li><a href="#g:2">Parsing arithmetic expressions</a></li></ul></div></div><div id="description"><p class="caption">Description</p><div class="doc"><p>Provides an <code><a href="Parsers-ArithmeticExpressionParser.html#v:expressionParser" title="Parsers.ArithmeticExpressionParser">expressionParser</a></code> parser for processing the arithmetic expressions.
 The possible operations are: <code>+</code>, <code>-</code>, <code>*</code>, <code>/</code> and <code>%</code> (mod) and are defined for <code>Int</code>.
 Moreover, the parser provides accessors to parameters (<code>player.&lt;parameter&gt;</code> and <code>entity.&lt;name&gt;.&lt;parameter&gt;</code>)
 and expressions: <code>invcount</code> (count of the player inventory), <code>cmdcount</code> (number of entered commands during the game)
 and <code>rnd</code> (random number).</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><a href="#v:commandCountParser">commandCountParser</a> :: Parser (<a href="DataStructures.html#t:Action" title="DataStructures">Action</a> Int)</li><li class="src short"><a href="#v:inventoryCountParser">inventoryCountParser</a> :: Parser (<a href="DataStructures.html#t:Action" title="DataStructures">Action</a> Int)</li><li class="src short"><a href="#v:randomNumberParser">randomNumberParser</a> :: Parser (<a href="DataStructures.html#t:Action" title="DataStructures">Action</a> Int)</li><li class="src short"><a href="#v:entityParameterAccessorParser">entityParameterAccessorParser</a> :: Parser (<a href="DataStructures.html#t:Name" title="DataStructures">Name</a>, <a href="DataStructures.html#t:Name" title="DataStructures">Name</a>)</li><li class="src short"><a href="#v:playerParameterAccessorParser">playerParameterAccessorParser</a> :: Parser <a href="DataStructures.html#t:Name" title="DataStructures">Name</a></li><li class="src short"><a href="#v:constantParser">constantParser</a> :: Parser (<a href="DataStructures.html#t:Action" title="DataStructures">Action</a> Int)</li><li class="src short"><a href="#v:identificatorParser">identificatorParser</a> :: Parser (<a href="DataStructures.html#t:Action" title="DataStructures">Action</a> Int)</li><li class="src short"><a href="#v:mulOpParser">mulOpParser</a> :: Parser (<a href="DataStructures.html#t:Action" title="DataStructures">Action</a> Int -&gt; <a href="DataStructures.html#t:Action" title="DataStructures">Action</a> Int -&gt; <a href="DataStructures.html#t:Action" title="DataStructures">Action</a> Int)</li><li class="src short"><a href="#v:addOpParser">addOpParser</a> :: Parser (<a href="DataStructures.html#t:Action" title="DataStructures">Action</a> Int -&gt; <a href="DataStructures.html#t:Action" title="DataStructures">Action</a> Int -&gt; <a href="DataStructures.html#t:Action" title="DataStructures">Action</a> Int)</li><li class="src short"><a href="#v:termParser">termParser</a> :: Parser (<a href="DataStructures.html#t:Action" title="DataStructures">Action</a> Int)</li><li class="src short"><a href="#v:termParser-39-">termParser'</a> :: Parser (<a href="DataStructures.html#t:Action" title="DataStructures">Action</a> Int -&gt; <a href="DataStructures.html#t:Action" title="DataStructures">Action</a> Int)</li><li class="src short"><a href="#v:expressionParser">expressionParser</a> :: Parser (<a href="DataStructures.html#t:Action" title="DataStructures">Action</a> Int)</li><li class="src short"><a href="#v:expressionParser-39-">expressionParser'</a> :: Parser (<a href="DataStructures.html#t:Action" title="DataStructures">Action</a> Int -&gt; <a href="DataStructures.html#t:Action" title="DataStructures">Action</a> Int)</li><li class="src short"><a href="#v:factorParser">factorParser</a> :: Parser (<a href="DataStructures.html#t:Action" title="DataStructures">Action</a> Int)</li></ul></details></div><div id="interface"><a href="#g:1" id="g:1"><h1>Grammar</h1></a><div class="doc"><p>The arithmetic expression grammar in this module is defined as follows:</p><ul><li>expr -&gt; term expr'</li><li>expr' -&gt; (<code>+</code>|<code>-</code>) term expr' | eps</li><li>term -&gt; factor | term'</li><li>term' -&gt; (<code>*</code>|<code>/</code>|<code>%</code>) factor term' | eps</li><li>factor -&gt; <code>invcount</code> | <code>cmdcount</code> | <code>rnd</code> | number | <code>player.&lt;parameter&gt;</code> | <code>entity.&lt;name&gt;.parameter</code> | ( expr )</li></ul><p>All operators are left-associative. Operators <code>*,/,%</code> have higher priority than <code>+</code> and <code>-</code>.</p></div><a href="#g:2" id="g:2"><h1>Parsing arithmetic expressions</h1></a><div class="top"><p class="src"><a id="v:commandCountParser" class="def">commandCountParser</a> :: Parser (<a href="DataStructures.html#t:Action" title="DataStructures">Action</a> Int) <a href="src/Parsers.ArithmeticExpressionParser.html#commandCountParser" class="link">Source</a> <a href="#v:commandCountParser" class="selflink">#</a></p><div class="doc"><p>Match a <code>cmdcount</code> expression.</p></div></div><div class="top"><p class="src"><a id="v:inventoryCountParser" class="def">inventoryCountParser</a> :: Parser (<a href="DataStructures.html#t:Action" title="DataStructures">Action</a> Int) <a href="src/Parsers.ArithmeticExpressionParser.html#inventoryCountParser" class="link">Source</a> <a href="#v:inventoryCountParser" class="selflink">#</a></p><div class="doc"><p>Match an <code>invcount</code> expression.</p></div></div><div class="top"><p class="src"><a id="v:randomNumberParser" class="def">randomNumberParser</a> :: Parser (<a href="DataStructures.html#t:Action" title="DataStructures">Action</a> Int) <a href="src/Parsers.ArithmeticExpressionParser.html#randomNumberParser" class="link">Source</a> <a href="#v:randomNumberParser" class="selflink">#</a></p><div class="doc"><p>Match a <code>rnd</code> expression.</p></div></div><div class="top"><p class="src"><a id="v:entityParameterAccessorParser" class="def">entityParameterAccessorParser</a> :: Parser (<a href="DataStructures.html#t:Name" title="DataStructures">Name</a>, <a href="DataStructures.html#t:Name" title="DataStructures">Name</a>) <a href="src/Parsers.ArithmeticExpressionParser.html#entityParameterAccessorParser" class="link">Source</a> <a href="#v:entityParameterAccessorParser" class="selflink">#</a></p><div class="doc"><p>Match an expression of type <code>entity.<a href="entity">name</a>.<a href="parameter">name</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:playerParameterAccessorParser" class="def">playerParameterAccessorParser</a> :: Parser <a href="DataStructures.html#t:Name" title="DataStructures">Name</a> <a href="src/Parsers.ArithmeticExpressionParser.html#playerParameterAccessorParser" class="link">Source</a> <a href="#v:playerParameterAccessorParser" class="selflink">#</a></p><div class="doc"><p>Match an expression of type <code>player.<a href="parameter">name</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:constantParser" class="def">constantParser</a> :: Parser (<a href="DataStructures.html#t:Action" title="DataStructures">Action</a> Int) <a href="src/Parsers.ArithmeticExpressionParser.html#constantParser" class="link">Source</a> <a href="#v:constantParser" class="selflink">#</a></p><div class="doc"><p>Match a number.</p></div></div><div class="top"><p class="src"><a id="v:identificatorParser" class="def">identificatorParser</a> :: Parser (<a href="DataStructures.html#t:Action" title="DataStructures">Action</a> Int) <a href="src/Parsers.ArithmeticExpressionParser.html#identificatorParser" class="link">Source</a> <a href="#v:identificatorParser" class="selflink">#</a></p><div class="doc"><p>Match a parameter accessor expression.</p></div></div><div class="top"><p class="src"><a id="v:mulOpParser" class="def">mulOpParser</a> :: Parser (<a href="DataStructures.html#t:Action" title="DataStructures">Action</a> Int -&gt; <a href="DataStructures.html#t:Action" title="DataStructures">Action</a> Int -&gt; <a href="DataStructures.html#t:Action" title="DataStructures">Action</a> Int) <a href="src/Parsers.ArithmeticExpressionParser.html#mulOpParser" class="link">Source</a> <a href="#v:mulOpParser" class="selflink">#</a></p><div class="doc"><p>Match multiplication or division operator.</p></div></div><div class="top"><p class="src"><a id="v:addOpParser" class="def">addOpParser</a> :: Parser (<a href="DataStructures.html#t:Action" title="DataStructures">Action</a> Int -&gt; <a href="DataStructures.html#t:Action" title="DataStructures">Action</a> Int -&gt; <a href="DataStructures.html#t:Action" title="DataStructures">Action</a> Int) <a href="src/Parsers.ArithmeticExpressionParser.html#addOpParser" class="link">Source</a> <a href="#v:addOpParser" class="selflink">#</a></p><div class="doc"><p>Match addition or subtraction operator.</p></div></div><div class="top"><p class="src"><a id="v:termParser" class="def">termParser</a> :: Parser (<a href="DataStructures.html#t:Action" title="DataStructures">Action</a> Int) <a href="src/Parsers.ArithmeticExpressionParser.html#termParser" class="link">Source</a> <a href="#v:termParser" class="selflink">#</a></p><div class="doc"><p>Match a single term of a sum.</p></div></div><div class="top"><p class="src"><a id="v:termParser-39-" class="def">termParser'</a> :: Parser (<a href="DataStructures.html#t:Action" title="DataStructures">Action</a> Int -&gt; <a href="DataStructures.html#t:Action" title="DataStructures">Action</a> Int) <a href="src/Parsers.ArithmeticExpressionParser.html#termParser%27" class="link">Source</a> <a href="#v:termParser-39-" class="selflink">#</a></p><div class="doc"><p>Match a <code>term'</code> non-terminal from a grammar, preserving left-associativity of the operators.</p></div></div><div class="top"><p class="src"><a id="v:expressionParser" class="def">expressionParser</a> :: Parser (<a href="DataStructures.html#t:Action" title="DataStructures">Action</a> Int) <a href="src/Parsers.ArithmeticExpressionParser.html#expressionParser" class="link">Source</a> <a href="#v:expressionParser" class="selflink">#</a></p><div class="doc"><p>Match an arithmetic expression and return its symbolic representation in a parser.</p></div></div><div class="top"><p class="src"><a id="v:expressionParser-39-" class="def">expressionParser'</a> :: Parser (<a href="DataStructures.html#t:Action" title="DataStructures">Action</a> Int -&gt; <a href="DataStructures.html#t:Action" title="DataStructures">Action</a> Int) <a href="src/Parsers.ArithmeticExpressionParser.html#expressionParser%27" class="link">Source</a> <a href="#v:expressionParser-39-" class="selflink">#</a></p><div class="doc"><p>Match a <code>expr'</code> non-terminal from a grammar, preserving left-associativity of the operators.</p></div></div><div class="top"><p class="src"><a id="v:factorParser" class="def">factorParser</a> :: Parser (<a href="DataStructures.html#t:Action" title="DataStructures">Action</a> Int) <a href="src/Parsers.ArithmeticExpressionParser.html#factorParser" class="link">Source</a> <a href="#v:factorParser" class="selflink">#</a></p><div class="doc"><p>Match a single factor of a term.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.25.1</p></div></body></html>